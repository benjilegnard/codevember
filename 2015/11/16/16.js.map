{"version":3,"sources":["16.js"],"names":[],"mappings":"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","file":"2015/11/16/16.js","sourcesContent":["const\r\n    TAU = Math.PI * 2,\r\n    ROTATION_SPEED = TAU / 180,\r\n    CIRCLES_PER_SPIRAL = 24,\r\n    GROW_SPEED = 1,\r\n    MAX_SPIRALS = 3,\r\n    ALPHA_DECAY = 0.00025,\r\n    RESET_DELAY = 360,\r\n    canvas = document.getElementById('canvas'),\r\n    context = canvas.getContext('2d'),\r\n    spirals = [],\r\n    initialDirection = TAU * Math.random(),\r\n    origin = {\r\n        x: canvas.width / 2,\r\n        y: canvas.height / 2\r\n    },\r\n    mouse = {\r\n        x: canvas.width / 2,\r\n        y: canvas.height / 2\r\n    };\r\n\r\nlet\r\n    frameCount = 0,\r\n    circlesAdded = 0;\r\n\r\nclass Spiral {\r\n    constructor() {\r\n        this.circles = [];\r\n        this.init();\r\n        this.reset();\r\n    }\r\n    reset() {\r\n        this.life = 0.2;\r\n\r\n        this.x = origin.x;\r\n        this.y = origin.y;\r\n        this.radius = 1;\r\n        for (let i = 0; i < CIRCLES_PER_SPIRAL; i++) {\r\n            this.circles[i].radius = this.radius/2;\r\n            // this.circles[i].angle =  i * (TAU / CIRCLES_PER_SPIRAL);\r\n        }\r\n    }\r\n    init() {\r\n        for (let i = 0; i < CIRCLES_PER_SPIRAL; i++) {\r\n            this.circles.push(new Circle({\r\n                angle: i * (TAU / CIRCLES_PER_SPIRAL),\r\n                spiral: this,\r\n                color: (i % 2 == 0)\r\n            }));\r\n        }\r\n    }\r\n    draw() {\r\n        this.circles.forEach((c) => {\r\n            c.draw()\r\n        });\r\n    }\r\n    move() {\r\n        this.radius += GROW_SPEED;\r\n        this.life -= ALPHA_DECAY;\r\n        this.x += Math.cos(initialDirection);\r\n        this.y += Math.sin(initialDirection);\r\n        this.circles.forEach((c) => {\r\n            c.move()\r\n        });\r\n    }\r\n}\r\n\r\nclass Circle {\r\n    constructor(props) {\r\n        this.spiral = props.spiral;\r\n        this.color = props.color;\r\n        this.angle = props.angle;\r\n        this.radius = this.spiral.radius / 3;\r\n\r\n        this.x = this.spiral.x + Math.cos(this.angle) * this.radius;\r\n        this.y = this.spiral.y + Math.sin(this.angle) * this.radius;\r\n\r\n    }\r\n    move() {\r\n        this.radius += GROW_SPEED;\r\n        this.angle -= ROTATION_SPEED;\r\n        this.x = this.spiral.x + Math.cos(this.angle) * this.radius;\r\n        this.y = this.spiral.y + Math.sin(this.angle) * this.radius;\r\n    }\r\n    draw() {\r\n        context.fillStyle = this.color ? 'rgb(0,0,0)' : 'rgba(255,255,255)';\r\n        context.beginPath();\r\n        context.arc(this.x, this.y, this.radius, 0, TAU, true);\r\n        context.fill();\r\n    }\r\n}\r\n\r\nconst\r\n    resize = () => {\r\n        canvas.width = window.innerWidth;\r\n        canvas.height = window.innerHeight;\r\n        origin.x = canvas.width / 2;\r\n        origin.y = canvas.height / 2;\r\n    },\r\n    animate = () => {\r\n        //Add new spiral\r\n        if(frameCount%RESET_DELAY==0){\r\n            if(spirals.length < MAX_SPIRALS){\r\n\r\n                spirals.push(\r\n                    new Spiral()\r\n                );\r\n            }\r\n        }\r\n        frameCount++;\r\n        //rest\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n        context.globalCompositeOperation = 'xor';\r\n        spirals.forEach((spiral) => {\r\n            spiral.move();\r\n            spiral.draw();\r\n        });\r\n\r\n        //reset transparent spiral\r\n        spirals\r\n            .filter((s)=>{return s.life <=0})\r\n            .forEach((s)=>{s.reset();});\r\n\r\n        requestAnimationFrame(animate);\r\n    },\r\n    initialize = () => {\r\n        resize();\r\n        animate();\r\n    };\r\n\r\nwindow.addEventListener('resize', resize);\r\ndocument.addEventListener('DOMContentLoaded', initialize);"],"sourceRoot":"/source/"}