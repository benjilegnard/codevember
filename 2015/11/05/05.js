"use strict";function resetOrigin(i){i.x=window.innerWidth/2,i.y=window.innerHeight/2}function circleFactory(i){var t=i||{};return t.x=i.x,t.y=i.y,t.initialTimestamp=i.initialTimestamp,t.color=cycleColor(i),t.direction=i.direction,t.recycled=!0,t}function cycleColor(i,t){var n=Math.floor(i.initialTimestamp||t)/100,e=127*Math.sin(COLOR_FREQUENCY*n+TAU/3)+128,c=127*Math.sin(COLOR_FREQUENCY*n+TAU/3*2)+128,a=127*Math.sin(COLOR_FREQUENCY*n+TAU)+128;return e<<16|c<<8|a}function draw(i){context.fillStyle="#"+i.color.toString(16),context.beginPath(),context.arc(i.x,i.y,CIRCLE_RADIUS,0,TAU,!0),context.fill()}function move(i){var t=Math.sin(frameCount*VARIATION_FREQ)*ANGULAR_VARIATION;i.x+=Math.cos(i.direction+t)*CIRCLE_SPEED,i.y+=Math.sin(i.direction+t)*CIRCLE_SPEED}function distance(i,t){return Math.sqrt((i.x-t.x)*(i.x-t.x)+(i.y-t.y)*(i.y-t.y))}function isDead(i){return distance({x:canvas.width,y:canvas.height},origin)<distance(i,origin)}function particleWave(i){for(var t=0;CIRCLES_PER_GEN>t;t++){var n=circles.filter(isDead),e=n[0]||{};e.initialTimestamp=i,e.x=origin.x,e.y=origin.y,e.direction=TAU/CIRCLES_PER_GEN*t,e.recycled?e=circleFactory(e):circles.push(circleFactory(e))}}function animate(i){context.clearRect(0,0,canvas.width,canvas.height),context.fillStyle="black",context.fillRect(0,0,canvas.width,canvas.height),circles.forEach(draw),circles.forEach(move),frameCount%GEN_FREQUENCY==0&&particleWave(frameCount),frameCount++,requestAnimationFrame(animate)}function resize(){canvas.width=window.innerWidth,canvas.height=window.innerHeight,resetOrigin(origin)}var TAU=2*Math.PI,CIRCLES_PER_GEN=32,MAX_CIRCLES=512,COLOR_FREQUENCY=.0314,GEN_FREQUENCY=10,CIRCLE_SPEED=1.6,CIRCLE_RADIUS=6,ANGULAR_VARIATION=TAU/6,VARIATION_FREQ=.01,frameCount=0,origin={},circles=[],canvas=document.getElementById("c"),context=canvas.getContext("2d");window.addEventListener("resize",resize),document.addEventListener("DOMContentLoaded",function(i){resize(),animate(1)});