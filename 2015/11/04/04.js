"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function animate(){hexagons.forEach(function(e){e.move()}),renderer.render(hexagons),requestAnimationFrame(animate)}function initialize(){for(var e=100,t=0;HEX_AMOUNT>t;t++){var n=Math.random()*window.innerWidth,i=Math.random()*window.innerHeight,r=Math.random()*window.innerWidth;hexagons.push(new Hexagon({center:{x:n,y:i,z:r},radius:e,offset:HEX_ANGLE,direction:{x:2*Math.random()-1,y:2*Math.random()-1,z:2*Math.random()-1}}))}animate()}function resize(){BOUNDARIES={x:window.innerWidth,y:window.innerHeight,z:window.innerWidth},renderer.resize()}function clickHandler(e){var t={x:e.clientX,y:e.clientY};hexagons.forEach(function(e){e.full=renderer.context.isPointInPath(e.getPath(),t.x,t.y)})}function touchHandler(e){for(var t=0;t<e.touches.length;t++)clickHandler(e.touches[t])}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),TAU=2*Math.PI,HEX_ANGLE=TAU/6,HEX_AMOUNT=256,ZOOM=.5,BOUNDARIES={x:window.innerWidth,y:window.innerHeight,z:window.innerWidth},Hexagon=function(){function e(t){_classCallCheck(this,e),this.center=t.center,this.radius=t.radius,this.direction=t.direction,this.offset=t.offset||HEX_ANGLE,this.numberOfPoints=t.nop||6,this.speed=1.1,this.full=!1}return _createClass(e,[{key:"getPoint",value:function(e){var t=this.offset+e*TAU/this.numberOfPoints;return{x:this.center.x+Math.cos(t)*this.radius*this.center.z/BOUNDARIES.z,y:this.center.y+Math.sin(t)*this.radius*this.center.z/BOUNDARIES.z,z:this.center.z}}},{key:"getPath",value:function(){var e=new Path2D;e.moveTo(this.getPoint(0).x,this.getPoint(0).y);for(var t=1;t<this.numberOfPoints;t++)e.lineTo(this.getPoint(t).x,this.getPoint(t).y);return e.closePath(),e}},{key:"draw",value:function(e,t,n){n?(e.fillStyle=t,e.fill(this.getPath())):(e.strokeStyle=t,e.stroke(this.getPath()))}},{key:"move",value:function(){this.center.x+=this.direction.x*this.speed,this.center.y+=this.direction.y*this.speed,this.center.z+=this.direction.z*this.speed}},{key:"collide",value:function(){(this.center.x<0||this.center.x>BOUNDARIES.x)&&(this.direction.x=-this.direction.x),(this.center.y<0||this.center.y>BOUNDARIES.y)&&(this.direction.y=-this.direction.y),(this.center.z<0||this.center.z>BOUNDARIES.z)&&(this.direction.z=-this.direction.z)}}]),e}(),Renderer=function(){function e(t){_classCallCheck(this,e),this.canvas=t.canvas,this.context=this.canvas.getContext("2d"),this.resize()}return _createClass(e,[{key:"resize",value:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.center=this.getOrigin()}},{key:"getOrigin",value:function(){return{x:window.innerWidth/2,y:window.innerHeight/2,z:window.innerWidth/2}}},{key:"render",value:function(e){var t=this;this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.fillStyle="rgb(0,0,0)",this.context.fillRect(0,0,this.canvas.width,this.canvas.height),e.forEach(function(e){e.draw(t.context,"rgba(255,255,255,0.25)",!0),e.collide(BOUNDARIES)})}}]),e}(),renderer=new Renderer({canvas:document.getElementById("canvas")}),hexagons=[];window.addEventListener("resize",resize),document.addEventListener("DOMContentLoaded",initialize),canvas.addEventListener("click",clickHandler),canvas.addEventListener("touch",touchHandler);