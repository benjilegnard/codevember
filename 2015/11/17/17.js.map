{"version":3,"sources":["17.js"],"names":[],"mappings":";;AAAA,IACI,OAAO,GAAG,GAAG;IACb,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,CAAC;IACjB,aAAa,GAAG,GAAG;IACnB,SAAS,GAAG,CAAC;IACb,kBAAkB,GAAG,CAAC;IACtB,WAAW,GAAG,EAAE;IAChB,sBAAsB,GAAG,IAAI;IAC7B,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC;IAC1C,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;IACjC,SAAS,GAAG,EAAE,CAAC;;AAEnB,IACI,SAAS,GAAG,SAAZ,SAAS,GAAS;AACd,WAAO;AACH,SAAC,EAAE,MAAM,CAAC,UAAU,GAAG,EAAE;AACzB,SAAC,EAAE,MAAM,CAAC,WAAW,GAAG,GAAG;KAC9B,CAAC;CACL;IACD,MAAM,GAAG,SAAS,EAAE;IACpB,UAAU,GAAG,CAAC;IACd,MAAM,GAAG,SAAT,MAAM,GAAS;AACX,UAAM,CAAC,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC;AACjC,UAAM,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;;AAEnC,UAAM,GAAG,SAAS,EAAE,CAAC;CACxB;IACD,WAAW,GAAG,SAAd,WAAW,GAAQ;AACf,QAAM,IAAI,GAAG,GAAG;QACZ,MAAM,GAAG,GAAG,GAAG,IAAI;QACnB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,GAAG,MAAM,CAAC;QAC7C,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,GAAG,MAAM,CAAC;QAC7C,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,GAAG,MAAM,CAAC,CAAC;AAClD,WAAO,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;CACpB;;;;;AAID,eAAe,GAAG,SAAlB,eAAe,CAAI,QAAQ,EAAK;AAC5B,QAAI,CAAC,GAAG,QAAQ,IAAI,EAAE,CAAC;AACvB,KAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;AACf,KAAC,CAAC,CAAC,GAAG,MAAM,CAAC,CAAC,CAAC;AACf,KAAC,CAAC,KAAK,GAAG,WAAW,EAAE,CAAC;AACxB,KAAC,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC;AAC5C,KAAC,CAAC,SAAS,GAAG,CAAC,AAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,GAAI,CAAC,CAAC,GAAG,CAAC,CAAA,GAAI,GAAG,CAAC;AACpD,KAAC,CAAC,MAAM,GAAG,WAAW,CAAC;AACvB,KAAC,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,SAAS,CAAC;AACpC,WAAO,CAAC,CAAC;CACZ;IACD,IAAI,GAAG,SAAP,IAAI,CAAI,QAAQ,EAAK;AACjB,WAAO,QAAQ,CAAC,MAAM,GAAG,CAAC,IACnB,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,IAChC,QAAQ,CAAC,CAAC,GAAG,CAAC,GAAG,QAAQ,CAAC,MAAM,IAChC,QAAQ,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,GAAG,QAAQ,CAAC,MAAM,IAC3C,QAAQ,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC,MAAM,CAC9C;CACR;IACD,IAAI,GAAG,SAAP,IAAI,CAAI,QAAQ,EAAK;AACjB,YAAQ,CAAC,KAAK,IAAI,QAAQ,CAAC,SAAS,CAAC;AACrC,YAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC;AACxD,YAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAC,KAAK,GAAG,OAAO,CAAC;AAClE,YAAQ,CAAC,MAAM,IAAI,sBAAsB,CAAC;CAC7C;IACD,IAAI,GAAG,SAAP,IAAI,CAAI,QAAQ,EAAK;AACjB,QAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AACrB,YAAI,KAAK,GAAG,CAAC,CAAC;AACd,aAAK,IAAI,MAAM,GAAG,CAAC,EAAE,MAAM,IAAI,QAAQ,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE;AACtD,iBAAK,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,MAAM,CAAA,GAAI,QAAQ,CAAC,MAAM,CAAC;AACrD,mBAAO,CAAC,SAAS,EAAE,CAAC;AACpB,mBAAO,CAAC,SAAS,GAAG,OAAO,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,GAAG,GAAG,CAAC;AACxH,mBAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;AAC1D,mBAAO,CAAC,IAAI,EAAE,CAAC;SAClB;KACJ;CACJ;IAED,OAAO,GAAG,SAAV,OAAO,CAAI,CAAC,EAAK;;;;AAIb,WAAO,CAAC,SAAS,GAAG,OAAO,CAAC;AAC5B,WAAO,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC;;AAAC,AAEpD,QAAI,cAAc,GAAG,SAAS,CAAC,MAAM,CAAC,UAAC,CAAC,EAAI;AACxC,eAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACnB,CAAC,CAAC;AACH,kBAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAC7B,kBAAc,CAAC,OAAO,CAAC,IAAI,CAAC;;;AAAC,AAG7B,QAAI,UAAU,GAAG,kBAAkB,IAAI,CAAC,EAAE;;AAEtC,YAAI,aAAa,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3C,YAAI,SAAS,CAAC,MAAM,GAAG,aAAa,IAAI,aAAa,CAAC,MAAM,IAAI,CAAC,EAAE;AAC/D,qBAAS,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;SACrC,MAAM;AACH,2BAAe,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC9C;KACJ;AACD,cAAU,EAAE,CAAC;AACb,yBAAqB,CAAC,OAAO,CAAC,CAAC;CAClC;IACD,IAAI,GAAG,SAAP,IAAI,GAAS;;AAET,UAAM,EAAE,CAAC;AACT,WAAO,EAAE,CAAC;CACb;IACD,YAAY,GAAG,SAAf,YAAY,CAAI,CAAC,EAAK;AAClB,UAAM,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;AACrB,UAAM,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;CACxB,CAAC;AACN,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;AACnD,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;AACpD,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AAC1C,MAAM,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAC,CAAC,EAAI;AACvC,UAAM,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;AACrB,UAAM,CAAC,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;CACxB,CAAC,CAAC;AACH,MAAM,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAC,CAAC,EAAI;AACtC,UAAM,GAAG,SAAS,EAAE,CAAC;CACxB,CAAC,CAAC","file":"2015/11/17/17.js","sourcesContent":["const\r\n    GRAVITY = 0.8,\r\n    TAU = Math.PI * 2,\r\n    MAX_PARTICLES = 420,\r\n    MAX_SPEED = 4,\r\n    PARTICLE_FREQUENCY = 2,\r\n    BASE_RADIUS = 12,\r\n    RADIUS_REDUCTION_SPEED = 0.01,\r\n    canvas = document.getElementById('canvas'),\r\n    context = canvas.getContext('2d'),\r\n    particles = [];\r\n\r\nlet\r\n    getOrigin = () => {\r\n        return {\r\n            x: window.innerWidth * .5,\r\n            y: window.innerHeight * .85\r\n        };\r\n    },\r\n    origin = getOrigin(),\r\n    frameCount = 0,\r\n    resize = () => {\r\n        canvas.width = window.innerWidth;\r\n        canvas.height = window.innerHeight;\r\n\r\n        origin = getOrigin();\r\n    },\r\n    randomColor = ()=> {\r\n        const base = 126,\r\n            offset = 255 - base,\r\n            r = Math.floor(Math.random() * base + offset),\r\n            g = Math.floor(Math.random() * base + offset),\r\n            b = Math.floor(Math.random() * base + offset);\r\n        return [r, g, b];\r\n    },\r\n    /**\r\n     * reset or creates a new particle.\r\n     */\r\n    particleFactory = (particle) => {\r\n        let p = particle || {};\r\n        p.x = origin.x;\r\n        p.y = origin.y;\r\n        p.color = randomColor();\r\n        p.angle = Math.random() * TAU / 6 - TAU / 3;\r\n        p.deviation = ((Math.random() > .5) ? -1 : 1) * .01;\r\n        p.radius = BASE_RADIUS;\r\n        p.speed = Math.random() * MAX_SPEED;\r\n        return p;\r\n    },\r\n    dead = (particle) => {\r\n        return particle.radius < 0\r\n            || particle.x < 0 - particle.radius\r\n            || particle.y < 0 - particle.radius\r\n            || particle.x > canvas.width + particle.radius\r\n            || particle.y > canvas.height + particle.radius\r\n            ;\r\n    },\r\n    move = (particle) => {\r\n        particle.angle += particle.deviation;\r\n        particle.x += Math.cos(particle.angle) * particle.speed;\r\n        particle.y += Math.sin(particle.angle) * particle.speed - GRAVITY;\r\n        particle.radius -= RADIUS_REDUCTION_SPEED;\r\n    },\r\n    draw = (particle) => {\r\n        if (particle.radius > 0) {\r\n            let alpha = 1;\r\n            for (let radius = 1; radius <= particle.radius; radius++) {\r\n                alpha = (particle.radius - radius) / particle.radius;\r\n                context.beginPath();\r\n                context.fillStyle = 'rgba(' + particle.color[0] + ',' + particle.color[1] + ',' + particle.color[2] + ',' + alpha + ')';\r\n                context.arc(particle.x, particle.y, radius, 0, TAU, true);\r\n                context.fill();\r\n            }\r\n        }\r\n    },\r\n\r\n    animate = (t) => {\r\n\r\n        //reset canvas\r\n        //context.clearRect(0, 0, canvas.width, canvas.height);\r\n        context.fillStyle = 'black';\r\n        context.fillRect(0, 0, canvas.width, canvas.height);\r\n        //Draw\r\n        let aliveParticles = particles.filter((p)=> {\r\n            return !dead(p);\r\n        });\r\n        aliveParticles.forEach(draw);\r\n        aliveParticles.forEach(move);\r\n\r\n        //new particle\r\n        if (frameCount % PARTICLE_FREQUENCY == 0) {\r\n            //don't create a new particle every time, for performance\r\n            let deadParticles = particles.filter(dead);\r\n            if (particles.length < MAX_PARTICLES && deadParticles.length == 0) {\r\n                particles.push(particleFactory());\r\n            } else {\r\n                particleFactory(particles.filter(dead)[0]);\r\n            }\r\n        }\r\n        frameCount++;\r\n        requestAnimationFrame(animate);\r\n    },\r\n    init = () => {\r\n        //context.globalCompositeOperation ='hard-light';\r\n        resize();\r\n        animate();\r\n    },\r\n    changeOrigin = (e) => {\r\n        origin.x = e.clientX;\r\n        origin.y = e.clientY;\r\n    };\r\ncanvas.addEventListener('mousemove', changeOrigin);\r\ndocument.addEventListener('DOMContentLoaded', init);\r\nwindow.addEventListener('resize', resize);\r\ncanvas.addEventListener('mousedown', (e)=> {\r\n    origin.x = e.clientX;\r\n    origin.y = e.clientY;\r\n});\r\ncanvas.addEventListener('mouseout', (e)=> {\r\n    origin = getOrigin();\r\n});\r\n"],"sourceRoot":"/source/"}