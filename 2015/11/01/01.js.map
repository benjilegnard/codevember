{"version":3,"sources":["01.js"],"names":[],"mappings":";;AAAA,IAAM,WAAW,GAAE,EAAE,CAAC;AACtB,IAAM,GAAG,GAAG,IAAI,CAAC,EAAE,GAAC,CAAC,CAAC;AACtB,IAAM,SAAS,GAAG,GAAG,GAAG,EAAE,GAAC,GAAG,CAAC;AAC/B,IAAM,QAAQ,GAAG,EAAE,CAAC;AACpB,IAAM,cAAc,GAAG,EAAE,CAAC;;AAE1B,IAAI,SAAS,GAAG,EAAE;IACd,MAAM,GAAG,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAC;IAC1C,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;;;;AAAC,AAItC,SAAS,SAAS,GAAE;AAChB,QAAI,MAAM,GAAG,CAAC,SAAS,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,EAAE,GAAC,SAAS,EAAE,IAAI,CAAC,EAAE,GAAC,SAAS,CAAC,CAAC;AAC3E,QAAI,KAAK,GAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACnD,WAAO,MAAM,CAAC,KAAK,CAAC,CAAC;CACxB;;;;AAAA,AAID,SAAS,WAAW,CAAC,IAAI,EAAC;AACtB,QAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;AACrB,OAAG,CAAC,KAAK,GAAG,EAAE,CAAC;AACf,OAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,CAAC,CAAA,GAAI,EAAE,CAAC,CAAC;AACvD,OAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,AAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAI,EAAE,CAAC,CAAC;AACnD,OAAG,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,AAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAI,EAAE,CAAC,CAAC;AACnD,OAAG,CAAC,MAAM,GAAG,EAAE,CAAC;AAChB,WAAO,GAAG,CAAC;CACd;;AAED,SAAS,IAAI,GAAE;AACX,SAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,WAAW,EAAC,CAAC,EAAE,EAClC;AACI,YAAI,IAAI,GAAG,WAAW,EAAE,CAAC;AACzB,iBAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;KACxB;AACD,aAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;CAC/B;AACD,SAAS,SAAS,CAAC,IAAI,EAAC,CAAC,EAAE,KAAK,EAAC;AAC7B,QAAI,SAAS,GAAG,KAAK,IAAI,EAAE,CAAC;AAC5B,QAAI,CAAC,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACnC,aAAS,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,cAAc,CAAC;AACzE,aAAS,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,cAAc,CAAC;AACzE,QAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;CAC/B;;;;AAAA,AAID,SAAS,UAAU,CAAC,IAAI,EAAC;AACrB,QAAI,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;AACrC,aAAS,CAAC,IAAI,EAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;CACnD;;;;AAAA,AAID,SAAS,QAAQ,CAAC,IAAI,EAAC;AACnB,QAAI,CAAC,MAAM,CAAC,IAAI,CAAC;AACb,SAAC,EAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC;AAC1C,SAAC,EAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,CAAC;KAC9C,CAAC,CAAC;AACH,SAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,QAAQ,EAAC,CAAC,EAAE,EAAC;AAC3B,iBAAS,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC;KACrB;AACD,WAAO,IAAI,CAAC;CACf;;;;AAAA,AAID,SAAS,IAAI,CAAC,IAAI,EAAC;AACf,WAAO,CAAC,WAAW,GAAG,MAAM,GAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAC,GAAG,GAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAC,GAAG,GAAC,IAAI,CAAC,KAAK,CAAC,CAAC,GAAC,GAAG,CAAC;AAChF,SAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACtC,eAAO,CAAC,SAAS,EAAE,CAAC;AACpB,eAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACtD,eAAO,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClD,eAAO,CAAC,MAAM,EAAE,CAAC;KACpB;CACJ;;;;AAAA,AAID,SAAS,IAAI,CAAC,IAAI,EAAC;AACf,aAAS,CAAC,OAAO,CACb,UAAS,IAAI,EAAC;AACV,aAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAE,IAAI,CAAC,MAAM,CAAC,MAAM,EAAC,CAAC,EAAE,EAAC;AACrC,gBAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CAAC;SAC5B;;AAAA,AAED,YAAI,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAC7B,UAAC,KAAK,EAAI;AACV,mBAAQ,KAAK,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,MAAM,IAAI,KAAK,CAAC,CAAC,GAAG,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,CAAC,GAAG,CAAC,CAAE;SACpG,CAAC;;AAAC,AAEP,YAAG,YAAY,CAAC,MAAM,KAAK,CAAC,EAAC;AACzB,gBAAI,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,qBAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;SACtD;KACJ,CACA,CAAC;CACD;;;;AAAA,AAID,SAAS,MAAM,GACf;AACI,UAAM,CAAC,KAAK,GAAG,MAAM,CAAC,UAAU,CAAC;AACjC,UAAM,CAAC,MAAM,GAAG,MAAM,CAAC,WAAW,CAAC;CACtC;AACD,IAAI,UAAU,GAAG,CAAC;;;;AAAC,AAInB,SAAS,OAAO,CAAC,SAAS,EAAC;;AAEvB,WAAO,CAAC,SAAS,GAAG,OAAO,CAAC;AAC5B,WAAO,CAAC,QAAQ,CAAC,CAAC,EAAC,CAAC,EAAC,MAAM,CAAC,KAAK,EAAC,MAAM,CAAC,MAAM,CAAC;;;AAAC,AAGjD,aAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AACxB,aAAS,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;AAExB,QAAG,UAAU,GAAC,EAAE,IAAI,CAAC,EAAC;AAClB,iBAAS,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;KACjC;AACD,cAAU,EAAE,CAAC;AACb,yBAAqB,CAAC,OAAO,CAAC,CAAC;CAClC;;;;AAAA,AAID,QAAQ,CAAC,gBAAgB,CACrB,kBAAkB,EAClB,UAAC,KAAK,EAAG;;AAET,UAAM,EAAE,CAAC;AACb,QAAI,EAAE,CAAC;AACP,WAAO,EAAE,CAAC;;AAEV,UAAM,CAAC,gBAAgB,CACnB,QAAQ,EACR,MAAM,CACT,CAAC;CACD,CAAC,CAAC","file":"2015/11/01/01.js","sourcesContent":["const LINE_AMOUNT= 42;\r\nconst TAU = Math.PI*2;\r\nconst ISO_ANGLE = TAU * 27/360;\r\nconst SEGMENTS = 12;\r\nconst SEGMENT_LENGTH = 80;\r\n\r\nvar polylines = [],\r\n    canvas = document.getElementById('canvas'),\r\n    context = canvas.getContext('2d');\r\n/**\r\n * Random angle at 27\r\n */\r\nfunction nextAngle(){\r\n    var angles = [ISO_ANGLE, -ISO_ANGLE, Math.PI-ISO_ANGLE, Math.PI+ISO_ANGLE];\r\n    var index= Math.floor(Math.random()*angles.length);\r\n    return angles[index];\r\n}\r\n/**\r\n * Build or reset a line with a random color and empty points.\r\n */\r\nfunction lineFactory(line){\r\n    var obj = line || {};\r\n    obj.color = {};\r\n    obj.color.r = Math.floor((Math.random() * 3 + 1) * 64);\r\n    obj.color.g = Math.floor((Math.random() * 3) * 64);\r\n    obj.color.b = Math.floor((Math.random() * 3) * 64);\r\n    obj.points = [];\r\n    return obj;\r\n}\r\n\r\nfunction init(){\r\n    for (let i = 0; i< LINE_AMOUNT;i++)\r\n    {\r\n        var line = lineFactory();\r\n        polylines.push(line);\r\n    }\r\n    polylines.forEach(initLine);\r\n}\r\nfunction nextPoint(line,i, point){\r\n    var nextPoint = point || {};\r\n    line.angle = nextAngle(line.angle);\r\n    nextPoint.x = line.points[i-1].x + Math.cos(line.angle) * SEGMENT_LENGTH;\r\n    nextPoint.y = line.points[i-1].y + Math.sin(line.angle) * SEGMENT_LENGTH;\r\n    line.points.push(nextPoint);\r\n}\r\n/**\r\n * Removes first point from the line and add a new one.\r\n */\r\nfunction shiftPoint(line){\r\n    var firstPoint = line.points.shift();\r\n    nextPoint(line, line.points.length, firstPoint);\r\n}\r\n/**\r\n * Init a polyline\r\n */\r\nfunction initLine(line){\r\n    line.points.push({\r\n        x:Math.floor(Math.random() * canvas.width),\r\n        y:Math.floor(Math.random() * canvas.height)\r\n    });\r\n    for(let i = 1; i< SEGMENTS;i++){\r\n        nextPoint(line,i);\r\n    }\r\n    return line;\r\n}\r\n/**\r\n * Draw a line on the canvas.\r\n */\r\nfunction draw(line){\r\n    context.strokeStyle = 'rgb('+line.color.r+','+line.color.g+','+line.color.b+')';\r\n    for (let i = 1; i< line.points.length;i++){\r\n        context.beginPath();\r\n        context.moveTo(line.points[i-1].x,line.points[i-1].y);\r\n        context.lineTo(line.points[i].x,line.points[i].y);\r\n        context.stroke();\r\n    }\r\n}\r\n/**\r\n * Makes the line go down.\r\n */\r\nfunction move(line){\r\n    polylines.forEach(\r\n        function(line){\r\n            for(let i = 0; i <line.points.length;i++){\r\n                line.points[i].y += 0.01;\r\n            }\r\n            //check if point is out of view\r\n            var pointsInside = line.points.filter(\r\n                    (point) =>{\r\n                    return (point.y > 0 && point.y < canvas.height && point.x < canvas.width && point.x > 0);\r\n        });\r\n    //reset line\r\n    if(pointsInside.length === 0){\r\n        var removedLine = polylines.splice(polylines.indexOf(line),1)[0];\r\n        polylines.push(initLine(lineFactory(removedLine)));\r\n    }\r\n}\r\n);\r\n}\r\n/**\r\n * Resize canvas to viewport dimensions.\r\n */\r\nfunction resize()\r\n{\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight;\r\n}\r\nvar frameCount = 0;\r\n/**\r\n * requestAnimationFrame function.\r\n */\r\nfunction animate(timestamp){\r\n    //context.clearRect(0,0,canvas.width,canvas.height);\r\n    context.fillStyle = 'black';\r\n    context.fillRect(0,0,canvas.width,canvas.height);\r\n\r\n    //Draw\r\n    polylines.forEach(move);\r\n    polylines.forEach(draw);\r\n\r\n    if(frameCount%10 == 0){\r\n        polylines.forEach(shiftPoint);\r\n    }\r\n    frameCount++;\r\n    requestAnimationFrame(animate);\r\n}\r\n/**\r\n * DOM is loaded, initialize stuff...\r\n */\r\ndocument.addEventListener(\r\n    'DOMContentLoaded',\r\n    (event)=>{\r\n    //dom is loaded\r\n    resize();\r\ninit();\r\nanimate();\r\n\r\nwindow.addEventListener(\r\n    'resize',\r\n    resize\r\n);\r\n});"],"sourceRoot":"/source/"}