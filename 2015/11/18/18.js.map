{"version":3,"sources":["18.js"],"names":[],"mappings":"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","file":"2015/11/18/18.js","sourcesContent":["const COLORS = [\r\n        0x241E3E,\r\n        0x733260,\r\n        0x3B8688,\r\n        0xB0B489,\r\n        0xEBDDA4],\r\n    DIRECTIONS = [\r\n        [-1, -1],\r\n        [-1, 1],\r\n        [1, -1],\r\n        [1, 1],\r\n        [0, 1],\r\n        [0, -1],\r\n        [1, 0],\r\n        [-1, 0]\r\n    ],\r\n    TAU = Math.PI * 2,\r\n    STARS = 4,\r\n    PIKES = 12,\r\n    PIKE_RATIO=.4,\r\n    DIR_CHANGE_FREQ = 30,\r\n    PIXEL_SIZE = {MIN: 10, MAX: 20},\r\n\r\n    canvas = document.getElementById('canvas'),\r\n    context = canvas.getContext('2d'),\r\n    origin = {\r\n        x: canvas.width / 2,\r\n        y: canvas.height / 2\r\n    };\r\n/**\r\n * Pointy polygon,\r\n */\r\nclass Star {\r\n    constructor(radius, center, color, oddOrEven) {\r\n        this.radius = radius;\r\n        this.center = center;\r\n        this.color = color;\r\n        this.offset = oddOrEven ? 0 : TAU/ PIKES;\r\n    }\r\n\r\n    getPath() {\r\n        let angle = TAU / PIKES,\r\n            path = new Path2D(),\r\n            pos = this.getPosition(0, 0);\r\n\r\n        path.moveTo(pos.x, pos.y);\r\n        for (let i = 1; i < PIKES; i++) {\r\n            pos = this.getPosition(angle * i, i);\r\n            path.lineTo(pos.x, pos.y);\r\n        }\r\n        path.closePath();\r\n        return path;\r\n    }\r\n\r\n    getPosition(angle, index) {\r\n        const distance = (index % 2 == 0) ? this.radius : this.radius * PIKE_RATIO;\r\n        return {\r\n            x: this.center.x + Math.floor(Math.cos(this.offset + angle) * distance),\r\n            y: this.center.y + Math.floor(Math.sin(this.offset + angle) * distance)\r\n        };\r\n    }\r\n\r\n    draw(context) {\r\n        context.strokeStyle = '#' + this.color.toString(16);\r\n        context.stroke(this.getPath());\r\n        this.offset += .001;\r\n    }\r\n}\r\n\r\nclass Pixel {\r\n    constructor(x, y, color) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.size = Math.floor(PIXEL_SIZE.MAX * Math.random() + PIXEL_SIZE.MIN);\r\n        this.color = '#' + color.toString(16);\r\n        this.direction = [0, 0];\r\n    }\r\n\r\n    move(frameCount) {\r\n        if (frameCount % DIR_CHANGE_FREQ == 0) {\r\n            this.changeDirection();\r\n        }\r\n        this.x += this.direction[0];\r\n        this.y += this.direction[1];\r\n    }\r\n\r\n    draw(context) {\r\n        context.fillStyle = this.color;\r\n        context.beginPath();\r\n        context.arc(this.x, this.y, this.size, 0, TAU, true);\r\n        context.fill();\r\n    }\r\n\r\n    changeDirection() {\r\n        const dirIndex = Math.floor(Math.random() * DIRECTIONS.length);\r\n        this.direction = DIRECTIONS[dirIndex];\r\n    }\r\n}\r\nclass Scene {\r\n    constructor() {\r\n        this.stars = [];\r\n        this.pixels = [];\r\n        this.canvas = document.getElementById('canvas');\r\n        this.context = canvas.getContext('2d');\r\n        this.origin = {};\r\n        this.frameCount = 0;\r\n        this.resize();\r\n        this.initialize();\r\n    }\r\n\r\n    resize() {\r\n        this.canvas.width = window.innerWidth;\r\n        this.canvas.height = window.innerHeight;\r\n        this.origin.x = canvas.width / 2;\r\n        this.origin.y = canvas.height / 2;\r\n    }\r\n\r\n    draw() {\r\n        this.context.clearRect(0,0,this.canvas.width, this.canvas.height);\r\n        this.context.fillStyle = '#999';\r\n        this.context.fillRect(0,0,this.canvas.width, this.canvas.height);\r\n        /*this.stars.forEach((star)=> {\r\n            star.draw(this.context);\r\n        });*/\r\n        this.pixels.forEach((pixel)=> {\r\n            pixel.move(this.frameCount);\r\n            pixel.draw(this.context);\r\n        });\r\n        this.frameCount++;\r\n\r\n        requestAnimationFrame(()=>{this.draw()});\r\n    }\r\n\r\n    initialize() {\r\n        this.context.globalCompositeOperation = 'overlay';\r\n        const starSize = (this.canvas.width / 2) / STARS;\r\n        for (let i = 1; i <= STARS; i++) {\r\n            this.stars.push(new Star(starSize * (i + 1), this.origin, COLORS[STARS - i], i%2==0))\r\n        }\r\n        const INTERVAL = PIXEL_SIZE.MIN + PIXEL_SIZE.MAX;\r\n        for (let x = 0; x < this.canvas.width;){\r\n            x += INTERVAL;\r\n            for (let y = 0; y < this.canvas.height;){\r\n                let notPlaced = true;\r\n                this.stars.forEach((star)=> {\r\n                    if (this.context.isPointInPath(star.getPath(),x,y) && notPlaced) {\r\n                        this.pixels.push(new Pixel(x, y, star.color));\r\n                        notPlaced = false;\r\n                    }\r\n                });\r\n                y += INTERVAL;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded',\r\n    (evt)=> {\r\n        window.scene = new Scene();\r\n        scene.initialize();\r\n        scene.draw();\r\n    }\r\n);\r\nwindow.addEventListener('resize', ()=> {\r\n    window.scene.resize();\r\n});"],"sourceRoot":"/source/"}