{"version":3,"sources":["27.js"],"names":[],"mappings":"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","file":"2015/11/27/27.js","sourcesContent":["const\r\n    COLORS = {\r\n        RAY: [84, 196, 236],\r\n        BG: [52, 52, 54]\r\n    },\r\n    TAU = Math.PI * 2,\r\n    SPACE_BETWEEN_CIRCLES = 20,\r\n    CIRCLES_QUANTITY = 36,\r\n    CIRCLES_WIDTH = 10,\r\n    SPREAD_ANGLE = TAU / 6,\r\n    SPREAD_FREQUENCY = 2,\r\n    DRAW_LINE = false,\r\n    DRAW_ARC = true;\r\n\r\nclass Circle {\r\n\r\n    constructor(radar, radius, alpha) {\r\n        this.radar = radar;\r\n        this.radius = radius;\r\n        this.alpha = alpha || 1;\r\n    }\r\n\r\n    move(alpha) {\r\n        this.alpha = alpha;\r\n    }\r\n\r\n    draw(context) {\r\n        if(DRAW_ARC) {\r\n            context.beginPath();\r\n            context.lineWidth = CIRCLES_WIDTH;\r\n            context.strokeStyle = 'rgba('+COLORS.RAY[0]+','+COLORS.RAY[1]+','+COLORS.RAY[2]+','+this.alpha+')';\r\n            context.arc(\r\n                this.radar.center.x, this.radar.center.y,\r\n                this.radius,\r\n                this.radar.direction + SPREAD_ANGLE / 2,\r\n                this.radar.direction - SPREAD_ANGLE / 2,\r\n                true);\r\n            context.stroke();\r\n        }\r\n    }\r\n}\r\n\r\nclass Radar {\r\n\r\n    constructor() {\r\n        this.circles = [];\r\n        this.center = {x:0,y:0};\r\n        this.initialRadius = 30;\r\n        this.currentCircleIndex = 0;\r\n        this.direction = 0;\r\n        for(let i = 0; i< CIRCLES_QUANTITY; i++){\r\n            this.circles.push(new Circle(this, this.initialRadius + i * SPACE_BETWEEN_CIRCLES))\r\n        }\r\n        this.mousePosition = {\r\n            x : canvas.width,\r\n            y : canvas.height/2\r\n        }\r\n    }\r\n\r\n    resize(canvas) {\r\n\r\n        //this.maxRadius = Math.min(canvas.width,canvas.height) / 2;\r\n        this.center = {\r\n            x: canvas.width / 2,\r\n            y : canvas.height/2\r\n        }\r\n    }\r\n\r\n    move(frameCount) {\r\n        this.direction = Math.atan2(this.mousePosition.y - this.center.y, this.mousePosition.x - this.center.x);\r\n\r\n        for(let i = 0; i < this.circles.length; i++){\r\n\r\n            //const alpha = 1 - Math.abs(this.currentCircleIndex - i) / this.circles.length;\r\n            const alpha = (i<this.currentCircleIndex) ? ( i / this.currentCircleIndex ) : 0;\r\n            this.circles[i].move(alpha);\r\n        }\r\n        //next circle will be high alpha.\r\n        if(frameCount % SPREAD_FREQUENCY == 0){\r\n            this.incrementIndex();\r\n        }\r\n\r\n    }\r\n\r\n    draw(context) {\r\n        this.circles.forEach(\r\n            (circle)=>{\r\n                circle.draw(context);\r\n            }\r\n        );\r\n        if(DRAW_LINE) {\r\n            context.beginPath();\r\n            context.moveTo(this.center.x, this.center.y);\r\n            context.lineTo(this.mousePosition.x, this.mousePosition.y);\r\n            context.stroke();\r\n        }\r\n    }\r\n    incrementIndex(){\r\n        if(this.currentCircleIndex < this.circles.length){\r\n            this.currentCircleIndex ++;\r\n        }else{\r\n            this.currentCircleIndex = 0;\r\n        }\r\n    }\r\n}\r\n\r\nclass Scene {\r\n\r\n    constructor() {\r\n        this.canvas = document.getElementById('canvas');\r\n        this.context = canvas.getContext('2d');\r\n        this.frameCount = 0;\r\n    }\r\n\r\n    initialize() {\r\n        this.radar = new Radar();\r\n        this.resize();\r\n        this.animate();\r\n        this.canvas.addEventListener(\r\n            'touchmove',\r\n            (event)=> {\r\n                event.touches.forEach((touchEvent)=>{\r\n                    window.scene.mouseMove(touchEvent);\r\n                });\r\n            }\r\n        );\r\n        this.canvas.addEventListener(\r\n            'mousemove',\r\n            (event)=> {\r\n                window.scene.mouseMove(event);\r\n            }\r\n        );\r\n    }\r\n\r\n    animate() {\r\n        this.context.clearRect(0,0,this.canvas.width,this.canvas.height);\r\n        this.context.fillStyle = 'rgb('+COLORS.BG[0]+','+COLORS.BG[1]+','+COLORS.BG[2]+')';\r\n        this.context.fillRect(0,0,this.canvas.width,this.canvas.height);\r\n\r\n        this.radar.move(this.frameCount);\r\n        this.radar.draw(this.context);\r\n\r\n        requestAnimationFrame(()=> {\r\n            this.frameCount++;\r\n            this.animate();\r\n        })\r\n    }\r\n\r\n    resize() {\r\n        this.canvas.width = window.innerWidth;\r\n        this.canvas.height = window.innerHeight;\r\n        this.radar.resize(this.canvas);\r\n    }\r\n\r\n    mouseMove(event) {\r\n        this.radar.mousePosition.x = event.pageX;\r\n        this.radar.mousePosition.y = event.pageY;\r\n    }\r\n}\r\n\r\ndocument.addEventListener(\r\n    'DOMContentLoaded',\r\n    ()=> {\r\n        window.scene = new Scene();\r\n        scene.initialize();\r\n    }\r\n);\r\nwindow.addEventListener(\r\n    'resize',\r\n    ()=> {\r\n        window.scene.resize();\r\n    }\r\n);"],"sourceRoot":"/source/"}